(window.webpackJsonp=window.webpackJsonp||[]).push([[117],{395:function(e,_,r){"use strict";r.r(_);var t=r(13),c=Object(t.a)({},(function(){var e=this,_=e._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("h1",{attrs:{id:"跨集群复制设置"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#跨集群复制设置"}},[e._v("#")]),e._v(" 跨集群复制设置")]),e._v(" "),_("p",[e._v("可以使用"),_("a",{attrs:{href:"/rest_apis/cluster_apis/cluster_update_settings"}},[e._v("集群更新设置 API")]),e._v(" 在活动集群上动态更新这些跨集群复制设置。")]),e._v(" "),_("h2",{attrs:{id:"远程恢复设置"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#远程恢复设置"}},[e._v("#")]),e._v(" 远程恢复设置")]),e._v(" "),_("p",[e._v("以下设置可用于对"),_("a",{attrs:{href:"/set_up_a_cluster_for_high_availability/cross_cluster_replication#%E9%80%9A%E8%BF%87%E8%BF%9C%E7%A8%8B%E6%81%A2%E5%A4%8D%E5%88%9D%E5%A7%8B%E5%8C%96%E8%BF%BD%E9%9A%8F%E8%80%85"}},[e._v("远程恢复")]),e._v("期间传输的数据进行速率限制：")]),e._v(" "),_("ul",[_("li",[_("p",[_("code",[e._v("ccr.indices.recovery.max_bytes_per_sec")]),e._v(" （"),_("a",{attrs:{href:"/set_up_elasticsearch/configuring_elasticsearch#%E9%9B%86%E7%BE%A4%E5%92%8C%E8%8A%82%E7%82%B9%E8%AE%BE%E7%BD%AE%E7%B1%BB%E5%9E%8B"}},[e._v("动态")]),e._v("）")]),e._v(" "),_("p",[e._v("限制每个节点上的总入站和出站远程恢复流量。由于此限制适用于每个节点，但可能有多个节点同时执行远程恢复，因此远程恢复字节的总量可能远高于此限制。如果将此限制设置得太高，则存在进行中的远程恢复将消耗过量带宽（或其他资源）的风险，这可能会破坏集群的稳定。该设置同时用于领导者和追随者集群。例如，如果将一个领导者其设置为 "),_("code",[e._v("20mb")]),e._v("，那么即使追随者正在请求，领导也只会向随从发送 "),_("code",[e._v("20mb/s")]),e._v("，且可以能 "),_("code",[e._v("60mb/s")]),e._v("。默认为 "),_("code",[e._v("40mb")]),e._v("。")])])]),e._v(" "),_("h2",{attrs:{id:"高级远程恢复设置"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#高级远程恢复设置"}},[e._v("#")]),e._v(" 高级远程恢复设置")]),e._v(" "),_("p",[e._v("可以设置以下专家设置来管理远程恢复所消耗的资源：")]),e._v(" "),_("ul",[_("li",[_("p",[_("code",[e._v("ccr.indices.recovery.max_concurrent_file_chunks")]),e._v(" （"),_("a",{attrs:{href:"/set_up_elasticsearch/configuring_elasticsearch#%E9%9B%86%E7%BE%A4%E5%92%8C%E8%8A%82%E7%82%B9%E8%AE%BE%E7%BD%AE%E7%B1%BB%E5%9E%8B"}},[e._v("动态")]),e._v("）")]),e._v(" "),_("p",[e._v("控制每次恢复可并行发送的文件块请求数。由于多个远程恢复可能已经并行运行，因此增加此专家级设置可能只会在单个分片的远程恢复未达到 "),_("code",[e._v("ccr.indices.recovery.max_bytes_per_sec")]),e._v(" 配置的总入站和出站远程恢复流量的情况下有所帮助。默认为 "),_("code",[e._v("5")]),e._v("。允许的最大值为 "),_("code",[e._v("10")]),e._v("。")])]),e._v(" "),_("li",[_("p",[_("code",[e._v("ccr.indices.recovery.chunk_size")]),e._v(" （"),_("a",{attrs:{href:"/set_up_elasticsearch/configuring_elasticsearch#%E9%9B%86%E7%BE%A4%E5%92%8C%E8%8A%82%E7%82%B9%E8%AE%BE%E7%BD%AE%E7%B1%BB%E5%9E%8B"}},[e._v("动态")]),e._v("）")]),e._v(" "),_("p",[e._v("控制文件传输期间追随者请求的块大小。默认为 "),_("code",[e._v("1mb")]),e._v("。")])]),e._v(" "),_("li",[_("p",[_("code",[e._v("ccr.indices.recovery.recovery_activity_timeout")]),e._v(" （"),_("a",{attrs:{href:"/set_up_elasticsearch/configuring_elasticsearch#%E9%9B%86%E7%BE%A4%E5%92%8C%E8%8A%82%E7%82%B9%E8%AE%BE%E7%BD%AE%E7%B1%BB%E5%9E%8B"}},[e._v("动态")]),e._v("）")]),e._v(" "),_("p",[e._v("控制恢复活动的超时。此超时主要适用于领导者集群。领导者集群必须在内存中打开资源，以便在恢复过程中向追随者提供数据。如果领导者在这段时间内没有收到跟随者的恢复请求，它将关闭资源。默认为 60 秒。")])]),e._v(" "),_("li",[_("p",[_("code",[e._v("ccr.indices.recovery.internal_action_timeout")]),e._v(" （"),_("a",{attrs:{href:"/set_up_elasticsearch/configuring_elasticsearch#%E9%9B%86%E7%BE%A4%E5%92%8C%E8%8A%82%E7%82%B9%E8%AE%BE%E7%BD%AE%E7%B1%BB%E5%9E%8B"}},[e._v("动态")]),e._v("）")]),e._v(" "),_("p",[e._v("控制远程恢复过程中单个网络请求的超时。单个操作超时可能会导致恢复失败。默认为 60 秒。")])])]),e._v(" "),_("blockquote",[_("p",[_("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/ccr-settings.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("原文链接"),_("OutboundLink")],1)])])])}),[],!1,null,null,null);_.default=c.exports}}]);