(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{377:function(s,a,t){"use strict";t.r(a);var e=t(13),_=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"多搜索-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多搜索-api"}},[s._v("#")]),s._v(" 多搜索 API")]),s._v(" "),a("p",[s._v("使用单个请求运行多个"),a("a",{attrs:{href:"/search_your_data/search_templates#%E8%BF%90%E8%A1%8C%E5%A4%9A%E6%A8%A1%E6%9D%BF%E6%90%9C%E7%B4%A2"}},[s._v("模板搜索")]),s._v("。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("GET my-index/_msearch/template\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my-search-template"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"params"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"query_string"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello world"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"from"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"size"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my-other-search-template"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"params"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"query_type"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"match_all"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#请求"}},[s._v("#")]),s._v(" 请求")]),s._v(" "),a("p",[a("code",[s._v("GET <target>/_msearch/template")])]),s._v(" "),a("p",[a("code",[s._v("GET _msearch/template")])]),s._v(" "),a("p",[a("code",[s._v("POST <target>/_msearch/template")])]),s._v(" "),a("p",[a("code",[s._v("POST _msearch/template")])]),s._v(" "),a("h2",{attrs:{id:"前置条件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前置条件"}},[s._v("#")]),s._v(" 前置条件")]),s._v(" "),a("ul",[a("li",[s._v("如果 Elasticsearch 安全特性启用，你对目标数据流、索引或别名必须有 "),a("a",{attrs:{href:"/secure_the_elastic_statck/user_authorization/security_privileges#%E7%B4%A2%E5%BC%95%E6%9D%83%E9%99%90"}},[s._v("索引权限")]),s._v("。对于跨集群搜索，参阅"),a("a",{attrs:{href:"/set_up_elasticsearch/remote_clusters/configure_roles_and_users_for_remote_clusters#%E9%85%8D%E7%BD%AE%E8%B7%A8%E9%9B%86%E7%BE%A4%E6%90%9C%E7%B4%A2%E6%9D%83%E9%99%90"}},[s._v("配置跨集群搜索权限")]),s._v("。")])]),s._v(" "),a("h2",{attrs:{id:"路径参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路径参数"}},[s._v("#")]),s._v(" 路径参数")]),s._v(" "),a("ul",[a("li",[a("p",[a("code",[s._v("<target>")]),s._v("\n（可选，字符串）逗号分隔的用于搜索的数据流、索引和别名列表。")]),s._v(" "),a("p",[s._v("如果请求正文中的搜索未指定 "),a("code",[s._v("index")]),s._v(" 目标，此列表将用作备份。")]),s._v(" "),a("p",[s._v("支持通配符（*）。为了在集群中搜索所有数据流和索引，忽略此参数或者使用 "),a("code",[s._v("_all")]),s._v(" 或 "),a("code",[s._v("*")]),s._v("。")])])]),s._v(" "),a("h2",{attrs:{id:"查询参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询参数"}},[s._v("#")]),s._v(" 查询参数")]),s._v(" "),a("ul",[a("li",[a("p",[a("code",[s._v("ccs_minimize_roundtrips")]),s._v("\n（可选，布尔值）如果为 "),a("code",[s._v("true")]),s._v("，在执行跨集群搜索（CCS）请求时，协调节点和远程集群之间的网络往返行程最小化。参阅 "),a("a",{attrs:{href:"/search_your_data/search_across_clusters#%E8%B7%A8%E7%BE%A4%E9%9B%86%E6%90%9C%E7%B4%A2%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%E7%BD%91%E7%BB%9C%E5%BB%B6%E8%BF%9F"}},[s._v("跨群集搜索如何处理网络延迟")]),s._v("。默认为 "),a("code",[s._v("true")]),s._v("。")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("max_concurrent_searches")]),s._v("\n（可选，整数）多重搜索 API 可以执行的最大并发搜索数。默认为 max(1, (# of "),a("a",{attrs:{href:"/set_up_elasticsearch/configuring_elasticsearch/node#%E6%95%B0%E6%8D%AE%E8%8A%82%E7%82%B9"}},[s._v("数据节点")]),s._v(" * min("),a("a",{attrs:{href:"/set_up_elasticsearch/configuring_elasticsearch/thread_pools"}},[s._v("搜索线程池大小")]),s._v(", 10)))。")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("rest_total_hits_as_int")]),s._v("\n(可选，布尔值)指示是否 "),a("code",[s._v("hits.total")]),s._v(" 应在搜索响应中呈现为整数或对象。默认为 "),a("code",[s._v("false")]),s._v("，返回一个对象。")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("search_type")]),s._v("\n（可选，字符串）搜索操作类型。可用选项：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("query_then_fetch")])]),s._v(" "),a("li",[a("code",[s._v("dfs_query_then_fetch")])])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("typed_keys")]),s._v("\n（可选，布尔值）如果为 "),a("code",[s._v("true")]),s._v("，响应在聚合和建议器名称前加上各自的类型。默认为 "),a("code",[s._v("false")]),s._v("。")])])]),s._v(" "),a("h2",{attrs:{id:"请求体"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#请求体"}},[s._v("#")]),s._v(" 请求体")]),s._v(" "),a("p",[s._v("请求正文必须是以下格式的换行分隔 JSON（NDJSON）：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("header"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("body"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("header"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("body"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("每个 "),a("code",[s._v("<header>")]),s._v(" 和 "),a("code",[s._v("<body>")]),s._v("，一对代表一个搜索请求。")]),s._v(" "),a("p",[a("code",[s._v("<header>")]),s._v(" 支持与 "),a("a",{attrs:{href:"/rest_apis/search_apis/multi_search"}},[s._v("多搜索 API")]),s._v(" 的 "),a("code",[s._v("<header>")]),s._v(" 相同的参数。"),a("code",[s._v("<body>")]),s._v(" 支持与 "),a("a",{attrs:{href:"/rest_apis/search_apis/search_template"}},[s._v("搜索模板 API")]),s._v(" 的请求体相同的参数。")]),s._v(" "),a("ul",[a("li",[a("p",[a("code",[s._v("<header>")]),s._v("\n（必需，对象）用于限制或更改搜索的参数。")]),s._v(" "),a("p",[s._v("每个搜索正文都需要此对象，但可以为空（{}）或空行。")]),s._v(" "),a("p",[a("code",[s._v("<header>")]),s._v(" 对象的属性")]),s._v(" "),a("ul",[a("li",[a("p",[a("code",[s._v("allow_no_indices")]),s._v("\n（可选，布尔值）如果为 "),a("code",[s._v("false")]),s._v("，任何通配符、"),a("a",{attrs:{href:"/rest_apis/index_apis/bulk_index_alias"}},[s._v("索引别名")]),s._v("或 "),a("code",[s._v("_all")]),s._v(" 值只针对丢失或关闭的索引，请求将返回一个错误。即使请求以其他开启索引为目标，此行为也适用。例如，如果一个索引以 "),a("code",[s._v("foo")]),s._v(" 开头，而没有索引以 "),a("code",[s._v("bar")]),s._v(" 开头，则以 "),a("code",[s._v("foo*,bar*")]),s._v(" 为目标的请求将返回错误。")]),s._v(" "),a("p",[s._v("此参数也适用于指向缺失索引或索引的"),a("a",{attrs:{href:"/aliases"}},[s._v("别名")]),s._v("。")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("expand_wildcards")]),s._v("\n（可选，字符串）通配符表达式可以匹配的索引类型。如果请求可以数据流为目标，则此参数确定通配符表达式是否匹配隐藏的数据流。支持逗号分隔的值，如 "),a("code",[s._v("open,hidden")]),s._v("。有效的值有：")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("all")]),s._v("\n匹配任何数据流或索引，包括 "),a("a",{attrs:{href:"/rest_apis/api_convention/multi_target_syntax#%E9%9A%90%E8%97%8F%E6%95%B0%E6%8D%AE%E6%B5%81%E5%92%8C%E7%B4%A2%E5%BC%95"}},[s._v("hidden")]),s._v("（隐藏的）。")]),s._v(" "),a("li",[a("code",[s._v("open")]),s._v("\n匹配 open（开启）、非隐藏的索引。也匹配任何非隐藏的数据流。")]),s._v(" "),a("li",[a("code",[s._v("closed")]),s._v("\n匹配 closed（关闭）、非隐藏的索引。也匹配任何非隐藏的数据流。数据流不能关闭。")]),s._v(" "),a("li",[a("code",[s._v("hidden")]),s._v("\n匹配隐藏数据流和隐藏索引。必须与 "),a("code",[s._v("open")]),s._v("、"),a("code",[s._v("closed")]),s._v(" 或一起使用。")]),s._v(" "),a("li",[a("code",[s._v("none")]),s._v("\n不接受通配符表达式。")])]),s._v(" "),a("p",[s._v("默认为 "),a("code",[s._v("open")]),s._v("。")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("ignore_unavailable")]),s._v("\n（可选，布尔值）如果为 "),a("code",[s._v("true")]),s._v("，丢失的或关闭的索引不包含在响应中。默认为 "),a("code",[s._v("false")]),s._v("。")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("index")]),s._v("\n（可选，字符串或字符串数组）用于搜索的数据流、索引和别名。支持通配符（*）。可将多个目标指定为一个数组。")]),s._v(" "),a("p",[s._v("如果此参数未指定，"),a("code",[s._v("<target>")]),s._v(" 请求路径参数将用于备选。")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("preference")]),s._v("\n（可选，字符串）用于执行搜索的节点或分片。默认随机。")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("request_cache")]),s._v("\n（可选，布尔值）如果为 "),a("code",[s._v("true")]),s._v("，请求缓存可用于此搜索。默认为索引级设置。参阅"),a("a",{attrs:{href:"/set_up_elasticsearch/configuring_elasticsearch/shard_request_cache_setttings"}},[s._v("分片请求缓存设置")]),s._v("。")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("routing")]),s._v("\n（可选，字符串）用于搜索操作路由到特定分片的自定义"),a("a",{attrs:{href:"/mapping/metadata_fields/_routing_field"}},[s._v("路由值")]),s._v("。")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("search_type")]),s._v("\n（可选，字符串）指示在对返回的文档进行评分时是否应使用全局词语和文档频率。")]),s._v(" "),a("p",[s._v("选项有：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("query_then_fetch")]),s._v("\n（默认）使用切分的本地词语和文档频率对文档进行评分。这通常更快，但更不准确。")]),s._v(" "),a("li",[a("code",[s._v("dfs_query_then_fetch")]),s._v("\n在所有分片中使用全局词语和文档频率对文档进行评分。这通常较慢，但更准确。")])])])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("<body>")]),s._v("\n（必需，对象）用于搜索的参数。")]),s._v(" "),a("ul",[a("li",[a("p",[a("code",[s._v("explain")]),s._v("\n（可选，布尔值）如果为 "),a("code",[s._v("true")]),s._v("，作为命中的一部分返回有关分数计算的详细信息。默认为 "),a("code",[s._v("false")]),s._v("。")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("id")]),s._v("\n（必需，字符串）用于搜索的模板 ID。如果没有指定 "),a("code",[s._v("source")]),s._v("，此参数必需。")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("params")]),s._v("\n（可选，对象）用于替换模板中Mustache变量的键值对。关键是变量名。该值是可变值。")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("profile")]),s._v("\n（可选，布尔值）如果为 "),a("code",[s._v("true")]),s._v("，查询执行的是已优化的。默认为 "),a("code",[s._v("false")]),s._v("。")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("source")]),s._v("\n（必需，对象）内联搜索模板。支持与 "),a("a",{attrs:{href:"/rest_apis/search_apis/search"}},[s._v("搜索 API")]),s._v("的请求正文相同的参数。还支持 "),a("a",{attrs:{href:"https://mustache.github.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Mustache"),a("OutboundLink")],1),s._v(" 变量。")]),s._v(" "),a("p",[s._v("如果 "),a("code",[s._v("id")]),s._v(" 未指定，此参数必需。")])])])])]),s._v(" "),a("h2",{attrs:{id:"响应码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#响应码"}},[s._v("#")]),s._v(" 响应码")]),s._v(" "),a("p",[s._v("只有当请求本身失败时，API 才会返回 "),a("code",[s._v("400")]),s._v(" 状态代码。如果请求中的一个或多个搜索失败，API 将为响应中的每个失败搜索返回一个 "),a("code",[s._v("200")]),s._v(" 状态代码和一个错误对象。")]),s._v(" "),a("h2",{attrs:{id:"响应体"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#响应体"}},[s._v("#")]),s._v(" 响应体")]),s._v(" "),a("ul",[a("li",[a("p",[a("code",[s._v("responses")]),s._v("\n（对象数组）每次搜索的结果，按提交的顺序返回。每个对象使用与搜索 API 响应相同的属性。")]),s._v(" "),a("p",[s._v("如果搜索失败，则响应包括包含错误消息的错误对象。")])])]),s._v(" "),a("h2",{attrs:{id:"curl-请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#curl-请求"}},[s._v("#")]),s._v(" curl 请求")]),s._v(" "),a("p",[s._v("如果为 curl 提供文本文件或文本输入，请使用标志 "),a("code",[s._v("--data-binary")]),s._v(" 而不是 "),a("code",[s._v("-d")]),s._v(" 来保留换行符。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" requests\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"index"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my-index"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my-search-template"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"params"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"query_string"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello world"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"from"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"size"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"index"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my-other-index"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my-other-search-template"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"params"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"query_type"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"match_all"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-H")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Content-Type: application/x-ndjson"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XGET")]),s._v(" localhost:9200/_msearch/template --data-binary "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@requests"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("blockquote",[a("p",[a("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/multi-search-template.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("原文链接"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=_.exports}}]);