(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{381:function(s,t,e){"use strict";e.r(t);var a=e(13),r=Object(a.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"渲染搜索模板-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#渲染搜索模板-api"}},[s._v("#")]),s._v(" 渲染搜索模板 API")]),s._v(" "),t("p",[s._v("将"),t("a",{attrs:{href:"/rest_apis/search_apis/search_template"}},[s._v("搜索模板")]),s._v("呈现为"),t("a",{attrs:{href:"/rest_apis/search_apis/search"}},[s._v("搜索请求体")]),s._v("。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("POST _render/template\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my-search-template"')]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"params"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"query_string"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello world"')]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"from"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"size"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h2",{attrs:{id:"请求"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#请求"}},[s._v("#")]),s._v(" 请求")]),s._v(" "),t("p",[t("code",[s._v("GET _render/template")])]),s._v(" "),t("p",[t("code",[s._v("GET _render/template/<template-id>")])]),s._v(" "),t("p",[t("code",[s._v("POST _render/template")])]),s._v(" "),t("p",[t("code",[s._v("POST _render/template/<template-id>")])]),s._v(" "),t("h2",{attrs:{id:"前置条件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前置条件"}},[s._v("#")]),s._v(" 前置条件")]),s._v(" "),t("ul",[t("li",[s._v("如果 Elasticsearch 安全特性启用，你对至少一个索引模型必须有 "),t("code",[s._v("read")]),s._v(" "),t("a",{attrs:{href:"/secure_the_elastic_statck/user_authorization/security_privileges#%E7%B4%A2%E5%BC%95%E6%9D%83%E9%99%90"}},[s._v("索引权限")]),s._v("。")])]),s._v(" "),t("h2",{attrs:{id:"路径参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#路径参数"}},[s._v("#")]),s._v(" 路径参数")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("<template-id>")]),s._v("\n（必需，字符串）待渲染的搜索模板 ID。如果 "),t("code",[s._v("source")]),s._v(" 未指定，此参数或请求体中的 "),t("code",[s._v("id")]),s._v(" 将是必需的。")])]),s._v(" "),t("h2",{attrs:{id:"请求体"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#请求体"}},[s._v("#")]),s._v(" 请求体")]),s._v(" "),t("ul",[t("li",[t("p",[t("code",[s._v("id")]),s._v("\n（必需，字符串）待渲染的搜索模板的 ID。如果 "),t("code",[s._v("source")]),s._v(" 未指定，则此参数或请求路径参数 "),t("code",[s._v("<template-id>")]),s._v(" 是必需的。如果同时指定此参数和 "),t("code",[s._v("<template id>")]),s._v(" 参数，则 API 仅使用 "),t("code",[s._v("<template id>")]),s._v("。")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("params")]),s._v("\n(可选，对象)用于替换模板中 Mustache 变量的键值对。键是变量名。值是可变值。")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("source")]),s._v("\n（必需，对象）内联搜索模板。支持与搜索 API 的请求体相同的参数。这些参数还支持 Mustache 变量。如果未指定 "),t("code",[s._v("id")]),s._v(" 或 "),t("code",[s._v("<templated id>")]),s._v("，则此参数是必需的。")])])]),s._v(" "),t("blockquote",[t("p",[t("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/render-search-template-api.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("原文链接"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=r.exports}}]);