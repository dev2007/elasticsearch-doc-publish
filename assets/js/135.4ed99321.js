(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{413:function(t,a,s){"use strict";s.r(a);var e=s(13),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"在-linux-或-macos-上用压缩包安装-elasticsearch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在-linux-或-macos-上用压缩包安装-elasticsearch"}},[t._v("#")]),t._v(" 在 Linux 或 MacOS 上用压缩包安装 Elasticsearch")]),t._v(" "),a("p",[t._v("Elasticsearch 在 Linux 和 MacOS 上是 "),a("code",[t._v(".tar.gz")]),t._v(" 的压缩包。")]),t._v(" "),a("p",[t._v("这个包包含免费和订阅的特性。"),a("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/license-settings.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("开始 30 天的试用"),a("OutboundLink")],1),t._v("，尝试所有功能。")]),t._v(" "),a("p",[t._v("Elasticsearch 的最新稳定版本，能在 "),a("a",{attrs:{href:"https://www.elastic.co/downloads/elasticsearch",target:"_blank",rel:"noopener noreferrer"}},[t._v("Elasticsearch 下载页面"),a("OutboundLink")],1),t._v("找到。其他版本能在"),a("a",{attrs:{href:"https://www.elastic.co/downloads/past-releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("历史发布页面"),a("OutboundLink")],1),t._v("找到。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("Elasticsearch 包含 JDK 维护者（GPLv2+CE）提供的 "),a("a",{attrs:{href:"https://openjdk.java.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("OpenJDK"),a("OutboundLink")],1),t._v(" 捆绑版本。要使用自己的 Java 版本，查阅 "),a("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/setup.html#jvm-version",target:"_blank",rel:"noopener noreferrer"}},[t._v("JVM 版本要求"),a("OutboundLink")],1),t._v("。")])]),t._v(" "),a("h2",{attrs:{id:"为-linux-下载和安装压缩包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为-linux-下载和安装压缩包"}},[t._v("#")]),t._v(" 为 Linux 下载和安装压缩包")]),t._v(" "),a("p",[t._v("Elasticsearch v7.11.1 的 Linux 压缩包，可以按以下操作进行下载和安装：")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.11.1-linux-x86_64.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.11.1-linux-x86_64.tar.gz.sha512\nshasum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-a")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),t._v(" elasticsearch-7.11.1-linux-x86_64.tar.gz.sha512\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-xzf")]),t._v(" elasticsearch-7.11.1-linux-x86_64.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" elasticsearch-7.11.1/\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("ul",[a("li",[a("p",[a("code",[t._v("shasum -a 512 -c")]),t._v(" 比较下载的 "),a("code",[t._v(".tar.gz")]),t._v(" SHA 值和公开的校验值。正常应该输出 "),a("code",[t._v("elasticsearch-{version}-linux-x86_64.tar.gz: OK")]),t._v("。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("cd elasticsearch-7.11.1/")]),t._v(" 此目录一般也是环境变量里的 "),a("code",[t._v("$ES_HOME")]),t._v("。")])])]),t._v(" "),a("h2",{attrs:{id:"为-macos-下载和安装压缩包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为-macos-下载和安装压缩包"}},[t._v("#")]),t._v(" 为 MacOS 下载和安装压缩包")]),t._v(" "),a("p",[t._v("Elasticsearch v7.11.1 的 MacOS 压缩包，可以如以下进行下载和安装：")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.11.1-darwin-x86_64.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.11.1-darwin-x86_64.tar.gz.sha512\nshasum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-a")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),t._v(" elasticsearch-7.11.1-darwin-x86_64.tar.gz.sha512\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-xzf")]),t._v(" elasticsearch-7.11.1-darwin-x86_64.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" elasticsearch-7.11.1/\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("ul",[a("li",[a("p",[a("code",[t._v("shasum -a 512 -c")]),t._v(" 比较下载的 "),a("code",[t._v(".tar.gz")]),t._v(" SHA 值和公开的校验值。正常应该输出 "),a("code",[t._v("elasticsearch-{version}-darwin-x86_64.tar.gz: OK")]),t._v("。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("cd elasticsearch-7.11.1/")]),t._v(" 此目录一般也是环境变量里的 "),a("code",[t._v("$ES_HOME")]),t._v("。")])])]),t._v(" "),a("h2",{attrs:{id:"启用系统索引自动创建-x-pack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启用系统索引自动创建-x-pack"}},[t._v("#")]),t._v(" 启用系统索引自动创建 ["),a("code",[t._v("X-Pack")]),t._v("]")]),t._v(" "),a("p",[t._v("一些商业特性会在 Elasticsearch 中自动创建索引。默认情况下， Elasticsearch 配置为允许自动创建索引而不需要额外的步骤。然而，如果你在 Elasticsearch 中禁用了自动索引创建，则必须在 "),a("code",[t._v("elasticsearch.yml")]),t._v(" 中配置 "),a("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html#index-creation",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("action.auto_create_index")]),a("OutboundLink")],1),t._v(" 以允许商业特性创建以下索引：")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("action.auto_create_index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" .monitoring*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(".watches"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(".triggered_watches"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(".watcher"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("history*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(".ml*\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("警告")]),t._v(" "),a("p",[t._v("如果你在使用 "),a("a",{attrs:{href:"https://www.elastic.co/products/logstash",target:"_blank",rel:"noopener noreferrer"}},[t._v("Logstash"),a("OutboundLink")],1),t._v(" 或 "),a("a",{attrs:{href:"https://www.elastic.co/products/beats",target:"_blank",rel:"noopener noreferrer"}},[t._v("Beats"),a("OutboundLink")],1),t._v("，那么你很可能需要在你的 "),a("code",[t._v("action.auto_create_index")]),t._v(" 设置中使用额外的索引名字，具体的值取决于你的本地配置。如果你不确定你环境的正确值，可以考虑设置这个值为*以允许自动创建所有索引。")])]),t._v(" "),a("h2",{attrs:{id:"从命令行运行-elasticsearch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#从命令行运行-elasticsearch"}},[t._v("#")]),t._v(" 从命令行运行 Elasticsearch")]),t._v(" "),a("p",[t._v("Elasticsearch 可以如以下从命令行启动：")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("./bin/elasticsearch\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("如果你对 Elasticsearch 密钥库进行了密码保护，会提示输入密码库密码。查看"),a("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/secure-settings.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("安全设置"),a("OutboundLink")],1),t._v("获取更多详情。")]),t._v(" "),a("p",[t._v("默认情况下，Elasticsearch 在前台运行，从标准输出（"),a("code",[t._v("stdout")]),t._v("）打印日志，且可以通过按 "),a("code",[t._v("Ctrl-C")]),t._v(" 中止。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("所有与 Elasticsearch 关联的脚本，需要一个支持数组版本的 Bash，且 Bash 要放在 "),a("code",[t._v("/bin/bash")]),t._v("中。因此，Bash 需要放在或者通过符号链接到这个路径中。")])]),t._v(" "),a("h2",{attrs:{id:"检查-elasticsearch-是否正在运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#检查-elasticsearch-是否正在运行"}},[t._v("#")]),t._v(" 检查 Elasticsearch 是否正在运行")]),t._v(" "),a("p",[t._v("你可以通过向 "),a("code",[t._v("localhost")]),t._v(" 的 "),a("code",[t._v("9200")]),t._v(" 端口发送 HTTP 请求来测试 Elasticsearch 节点是否正在运行：")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("GET /\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("这会给你这样的响应：")]),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Cp8oag6"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cluster_name"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"elasticsearch"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cluster_uuid"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AT69_T_DTp-1qgIJlatQqA"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"number"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"7.11.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build_flavor"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"default"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build_type"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tar"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build_hash"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"f27399d"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build_date"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2016-03-30T09:51:41.449Z"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build_snapshot"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lucene_version"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8.7.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"minimum_wire_compatibility_version"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.2.3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"minimum_index_compatibility_version"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.2.3"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tagline"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"You Know, for Search"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br")])]),a("p",[t._v("可以在命令行中通过 "),a("code",[t._v("-q")]),t._v(" 或 "),a("code",[t._v("--quiet")]),t._v(" 选项禁用日志输出到标准输出（"),a("code",[t._v("stdout")]),t._v("）。")]),t._v(" "),a("h2",{attrs:{id:"作为守护进程运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#作为守护进程运行"}},[t._v("#")]),t._v(" 作为守护进程运行")]),t._v(" "),a("p",[t._v("要作为守护进程运行 Elasticsearch，在命令行指定 "),a("code",[t._v("-d")]),t._v("，并使用 "),a("code",[t._v("-p")]),t._v(" 选项在文件中记录进程 ID：")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("./bin/elasticsearch "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" pid\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("如果你对 Elasticsearch 密码库进行了密码保护，会提示输入密码库密码。查看"),a("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/secure-settings.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("安全设置"),a("OutboundLink")],1),t._v("获取更多详情。")]),t._v(" "),a("p",[t._v("日志信息可以在 "),a("code",[t._v("$ES_HOME/logs/")]),t._v(" 目录中找到。")]),t._v(" "),a("p",[t._v("要关闭 Elasticsearch，杀死记录在 pid 文件中的 进程 ID：")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pkill")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-F")]),t._v(" pid\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("Elasticsearch "),a("code",[t._v(".tar.gz")]),t._v(" 包不包含 "),a("code",[t._v("systemd")]),t._v(" 模块。要把 Elasticsearch 作为服务，改用 "),a("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/starting-elasticsearch.html#start-deb",target:"_blank",rel:"noopener noreferrer"}},[t._v("Debian"),a("OutboundLink")],1),t._v(" 或者 "),a("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/starting-elasticsearch.html#start-rpm",target:"_blank",rel:"noopener noreferrer"}},[t._v("RPM"),a("OutboundLink")],1),t._v(" 包。")])]),t._v(" "),a("h2",{attrs:{id:"在命令行配置-elasticsearch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在命令行配置-elasticsearch"}},[t._v("#")]),t._v(" 在命令行配置 Elasticsearch")]),t._v(" "),a("p",[t._v("Elasticsearch 默认从 "),a("code",[t._v("$ES_HOME/configuring_elasticsearch/elasticsearch.yml")]),t._v(" 加载配置。配置文件的格式在"),a("a",{attrs:{href:"/set_up_elasticsearch/config"}},[t._v("配置 Elasticsearch")]),t._v("中解释。")]),t._v(" "),a("p",[t._v("在配置文件中可以指定的设置，也能在命令行中指定，如下使用 "),a("code",[t._v("-E")]),t._v(" 语法：")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("./bin/elasticsearch "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-Ecluster.name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("my_cluster "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-Enode.name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("node_1\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("通常，任意集群范围设置（如 "),a("code",[t._v("cluster.name")]),t._v("）应该添加到 "),a("code",[t._v("elasticsearch.yml")]),t._v(" 配置文件中，而任何节点特定设置，如 "),a("code",[t._v("node.name")]),t._v("，应该在命令行中指定。")])]),t._v(" "),a("h2",{attrs:{id:"压缩包文件目录结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#压缩包文件目录结构"}},[t._v("#")]),t._v(" 压缩包文件目录结构")]),t._v(" "),a("p",[t._v("压缩包发行版是完全独立的。默认情况下，所有文件和目录都包含在 "),a("code",[t._v("$ES_HOME")]),t._v("——解压压缩包时创建的目录。")]),t._v(" "),a("p",[t._v("这样很方便，因为你不必创建任意目录去启用 Elasticsearch，且卸载 Elasticsearch 就像移除 "),a("code",[t._v("$ES_HOME")]),t._v(" 目录一样简单。但是，建议修改默认的配置目录（config）和数据目录（data）以便以后不用删除重要数据。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("描述")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("默认位置")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("设置")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("home")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Elasticsearch 主目录或 "),a("code",[t._v("$ES_HOME")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("解压压缩包创建的目录")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("bin")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("二进制脚本，包括启动节点的 "),a("code",[t._v("elasticsearch")]),t._v(" 和安装插件的 "),a("code",[t._v("elasticsearch-plugin")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("$ES_HOME/bin")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("conf")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("配置文件，包括 "),a("code",[t._v("elasticsearch.yml")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("$ES_HOME/config")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"/set_up_elasticsearch/config#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BD%8D%E7%BD%AE"}},[t._v("ES_PATH_CONF")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("data")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("分配在节点上的每个索引和分片的数据文件位置。可以有多个位置。")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("$ES_HOME/data")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("path.data")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("logs")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("日志文件位置")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("$ES_HOME/logs")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("path.logs")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("plugins")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("插件文件位置。每个插件会包含在一个子目录中。")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("$ES_HOME/plugins")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("repo")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("共享文件系统仓库位置。可以有多个位置。文件系统仓库可以放在此处指定的任何目录的任何子目录中。")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("未配置")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("path.repo")])])])])]),t._v(" "),a("h2",{attrs:{id:"下一步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下一步"}},[t._v("#")]),t._v(" 下一步")]),t._v(" "),a("p",[t._v("你现在有一个测试 Elasticsearch 环境部署好。在你使用 Elasticsearch 正式开始开发或者生产之前，你必须做一些额外的设置：")]),t._v(" "),a("ul",[a("li",[t._v("学习如何配置 "),a("a",{attrs:{href:"/set_up_elasticsearch/config"}},[t._v("Elasticsearch")]),t._v("。")]),t._v(" "),a("li",[t._v("配置"),a("a",{attrs:{href:"/set_up_elasticsearch/important_es_config"}},[t._v("重要的 Elasticsearch 设置")]),t._v("。")]),t._v(" "),a("li",[t._v("配置"),a("a",{attrs:{href:"/set_up_elasticsearch/important_system_config"}},[t._v("重要的系统设置")]),t._v("。")])]),t._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/targz.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("原文链接"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=r.exports}}]);